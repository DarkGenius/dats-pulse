# Оптимальная стратегия для DatsPulse

**Сбалансированная эвристическая стратегия управления колонией муравьев на основе математических моделей, лучших практик RTS и адаптивного принятия решений.**

## Стратегическая матрица эффективности

Анализ показывает кардинальные различия в эффективности юнитов: **Рабочие обеспечивают в 5 раз больше калорий за ход (20 vs 4) по сравнению с Бойцами**, в то время как **Бойцы превосходят по боевой эффективности в 10 раз** (3,528,000 vs 292,500 единиц). Разведчики занимают уникальную нишу с **максимальной мобильностью** (скорость 7, обзор 4) для быстрого реагирования и контроля территории.

Ключевая находка: **нектар дает в 6 раз больше калорий** чем яблоки (60 vs 10), что делает его стратегически критичным ресурсом, несмотря на сложность сбора. Это создает естественную специализацию между типами юнитов.

## Трехфазовая модель развития

### Фаза 1: Экономическая экспансия (ходы 1-20)

**Приоритеты:** Создание устойчивой ресурсной базы через максимизацию производства калорий.

**Оптимальные пропорции:**
- Рабочие: 60% (12 единиц) - костяк экономики
- Разведчики: 30% (6 единиц) - картирование и нектар
- Бойцы: 10% (2 единицы) - базовая защита

**Алгоритм принятия решений:**
```
IF (обнаружен_нектар_в_радиусе_7) → производить_разведчика()
ELSE IF (угроза_низкая) → производить_рабочего()  
ELSE → производить_бойца()
```

**Стратегические действия:**
- Разведчики исследуют концентрические кольца радиусом 4-7 гексов
- Рабочие фокусируются на ближайших источниках хлеба/яблок
- Один боец патрулирует периметр муравейника

### Фаза 2: Сбалансированная экспансия (ходы 21-50)

**Приоритеты:** Баланс между экономическим ростом и военной готовностью при активном контроле территории.

**Оптимальные пропорции:**
- Рабочие: 50% (25 единиц) - поддержание экономики
- Разведчики: 25% (12 единиц) - контроль территории
- Бойцы: 25% (13 единиц) - военная мощь

**Алгоритм адаптации:**
```
threat_level = оценить_угрозу()
IF (threat_level > 0.7) → увеличить_бойцов_до_40%()
ELSE IF (новые_ресурсы_обнаружены) → увеличить_разведчиков_до_30%()
ELSE → поддерживать_баланс()
```

**Тактические формации:**
- Создание защищенных конвоев: 4 рабочих + 1 боец для дальних маршрутов
- Группы быстрого реагирования: 2 разведчика + 1 боец
- Территориальный контроль через сеть разведчиков с интервалом 6 гексов

### Фаза 3: Оптимизация доминирования (ходы 51+)

**Приоритеты:** Максимизация калорийности через контроль высокоценных ресурсов и подавление конкурентов.

**Адаптивные пропорции:**
- При военном превосходстве: 30% рабочие, 35% разведчики, 35% бойцы
- При экономическом отставании: 45% рабочие, 30% разведчики, 25% бойцы
- При угрозе: 20% рабочие, 30% разведчики, 50% бойцы

## Системы боевого превосходства

### Формационная тактика для гексагональной сетки

**Формация "Трилистник"** - оптимальная для атаки:
```
    R
   B B B
  R  B  R
```
Обеспечивает каждому бойцу поддержку 2-3 союзников (+50% урона), разведчики контролируют фланги.

**Формация "Концентрические кольца"** - для обороны муравейника:
- Кольцо 1: Бойцы (максимальный бонус муравейника +25%)
- Кольцо 2: Смешанные группы (гибкая реакция)
- Кольцо 3: Разведчики (раннее предупреждение)

### Алгоритм боевых решений

**Формула оценки боевой готовности:**
```
attack_readiness = (наши_силы × 1.5) / вражеские_силы
IF (attack_readiness > 1.8) → атаковать()
ELSE IF (attack_readiness < 0.6) → отступать()
ELSE → удерживать_позицию()
```

**Специализированные тактики:**
- Против тяжелой обороны: hit-and-run разведчиками
- Против быстрых войск: блокировка путей отхода бойцами
- Против экономических целей: молниеносные рейды смешанными группами

## Система приоритизации ресурсов

### Матрица эффективности сбора

**Правило динамических приоритетов:**
```
IF (расстояние_до_нектара ≤ 6) → разведчики_на_нектар()
ELSE IF (расстояние_до_хлеба ≤ 4) → рабочие_на_хлеб()  
ELSE → любые_юниты_на_яблоки()
```

**Система логистической оптимизации:**
- 20% юнитов в пути к ресурсам
- 60% активно собирают ресурсы
- 20% возвращаются с полной загрузкой

### Территориальное зонирование

**Зона A** (1-3 хода): Рабочие доминируют - 80% развертывания
**Зона B** (4-6 ходов): Разведчики специализируются - 60% развертывания
**Зона C** (7+ ходов): Смешанные защищенные группы

## Адаптивные алгоритмы принятия решений

### Система раннего предупреждения

**Индикаторы переключения стратегии:**
- Падение производства калорий ниже 80% от максимума
- Обнаружение вражеских сил в радиусе 10 гексов
- Потеря контроля над источниками нектара
- Достижение лимита популяции без военного превосходства

### Метрики эффективности

**Целевые показатели по фазам:**
- Ранняя игра: 200+ калорий/ход
- Средняя игра: 500+ калорий/ход  
- Поздняя игра: 800+ калорий/ход

**Система коррекции:**
```
IF (текущий_доход < цель × 0.8) → увеличить_рабочих()
IF (военные_потери > 30%) → реорганизовать_оборону()
IF (новые_угрозы) → адаптировать_стратегию()
```

## Критические пороги и переходы

### Математически обоснованные пороги

**Экономический порог:** Минимум 25% рабочих от общей популяции
**Военный порог:** Максимум 60% боевых единиц в кризисных ситуациях
**Разведывательный порог:** Постоянно 20-35% разведчиков для контроля информации

### Формула оптимального баланса

```
utility = 0.4 × экономика + 0.3 × военная_мощь + 0.2 × контроль_территории + 0.1 × позиционирование
```

Веса адаптируются в зависимости от игровой ситуации и фазы.

## Практическое применение

### Алгоритм хода

1. **Оценка ситуации:** Анализ ресурсов, угроз, возможностей
2. **Принятие решения:** Выбор типа юнита на основе приоритетной матрицы
3. **Тактическое позиционирование:** Оптимальное размещение новых юнитов
4. **Стратегическая корректировка:** Адаптация долгосрочных планов

### Система контроля качества

**Аудит эффективности каждые 5 ходов:**
- Соответствие фактических пропорций целевым
- Анализ эффективности сбора ресурсов
- Оценка военной готовности
- Корректировка стратегических приоритетов

## Заключение

Данная стратегия обеспечивает **устойчивый рост** через экономическое доминирование в ранней фазе, **гибкую адаптацию** к изменяющимся условиям в средней фазе, и **оптимизированное доминирование** в поздней фазе. Математические модели гарантируют оптимальное распределение ресурсов, а адаптивные алгоритмы позволяют эффективно реагировать на действия противников.

Ключевой успех стратегии заключается в **динамическом балансе** между экономическим развитием и военной готовностью, оптимизированном через continuous monitoring и adaptive decision-making, что обеспечивает максимальную эффективность в любых игровых условиях.